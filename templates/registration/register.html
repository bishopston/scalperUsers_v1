{%  extends "../base/base.html" %}

{% block content %}
<div class="container-fluid d-flex justify-content-center col-lg-5"></div>
<div class="user">
  <span class="outer-line"></span>
  <span class="fas fa-3x fa-user-circle"></span>
  <span class="outer-line"></span>
</div>
<div class="mt-4 d-flex justify-content-center container">
  <div class="col-lg-5">
    <div class="row d-flex justify-content-center mb-4">
      <h4><strong>Create a Martingale Account</strong></h4><br>
      <p>Already have an account?&nbsp;</p><a href="{% url 'accounts:login' %}">Log In</a>
    </div>
    <form method="POST">
      {% csrf_token %}
      <div class="form-group mb-0">
        <!--<label for="{{ form.email.id_for_label }}">Email address:</label><br>-->
        {{ form.email }}
        {% if form.email.errors %}
          <p><small class="text-danger">{{ form.email.errors }}</small></p>
        {% endif %}
      </div>
      <div class="form-group">
        <!--<label for="{{ form.password1.id_for_label }}">Password:</label>-->
        <button id="toggle-password" type="button" class="btn btn-link float-right text-danger text-decoration-none">Show</button><br>
        {{ form.password1 }}<br>
        {% if form.non_field_errors %}
          <p><small class="text-danger">{{ form.non_field_errors }}</small></p>
        {% endif %}
      </div>
      <div class="d-flex justify-content-center text-justify mt-0">
        <p><small>By clicking Register you confirm you have read and agree to our Terms and Conditions and acknowledge our Privacy Policy.</small></p>
      </div>
      <div class="d-flex justify-content-center">
        <button class="btn btn-secondary btn-lg btn-block"><i class="mr-2 far fa-user-circle"></i><strong>Register</strong></button>
      </div>
    </form>
  </div>
</div>

<script>
  const passwordInput = document.getElementById('id_password1');
  const togglePasswordButton = document.getElementById('toggle-password');

  togglePasswordButton.addEventListener('click', togglePassword);

  function togglePassword() {
    if (passwordInput.type === 'password') {
      passwordInput.type = 'text';
      togglePasswordButton.textContent = 'Hide';
      togglePasswordButton.setAttribute('aria-label',
        'Hide password.');
    } else {
      passwordInput.type = 'password';
      togglePasswordButton.textContent = 'Show';
      togglePasswordButton.setAttribute('aria-label',
        'Show password as plain text. ' +
        'Warning: this will display your password on the screen.');
    }
  }
 </script> 

{% endblock %}