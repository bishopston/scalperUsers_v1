{%  extends "../base/base.html" %}
{% block content %}


<script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.4/dist/Chart.min.js"></script>
<style>

    header nav {
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    header nav h1 {
    font-size: 28px;
    font-weight: 600;
    }


    header nav .tabs {
    list-style-type: none;

    display: flex;
    justify-content: flex-end;
    }

    header nav .tabs .tab {
    display: block;
    }

    header nav .tabs .tab a[data-switcher] {
        display: block;
        padding: 15px 30px;
        text-decoration: none;
        color: rgb(255, 255, 255);
        background-color: #0275d8;
        cursor: pointer;
    }

    header nav .tabs .tab:hover a[data-switcher] {
        background-color: #F7A800;
    }

    header nav .tabs .tab.is-active a[data-switcher] {
        background-color: #F7A800;
        font-weight: 700;
    }

    .pages .page {
        display: none;
    }

    .pages .page.is-active {
        display: block;
    }
</style>

<div class="container light-blue text-dark d-flex flex-wrap overflow-auto">
    <div class="container">
        <div class="row ml-1 p-1">
            <h5>Trending Options Statistics</h5>
        </div>
        <div class="row d-flex justify-content-start ml-1">
            <header>
                <nav>
                    <ul class="tabs">
                        <li class="tab is-active">
                            <a data-switcher data-tab="1">All</a>
                        </li>
                        <li class="tab">
                            <a data-switcher data-tab="2">ALPHA</a>
                        </li>
                        <li class="tab">
                            <a data-switcher data-tab="3">ETE</a>
                        </li>
                        <li class="tab">
                            <a data-switcher data-tab="4">FTSE</a>
                        </li>
                        <li class="tab">
                            <a data-switcher data-tab="5">OTE</a>
                        </li>
                        <li class="tab">
                            <a data-switcher data-tab="6">OPAP</a>
                        </li>
                        <li class="tab">
                            <a data-switcher data-tab="7">DEH</a>
                        </li>
                        <li class="tab">
                            <a data-switcher data-tab="8">PEIRAIOS</a>
                        </li>
                    </ul>
                </nav>
            </header>
        </div>
        <div class="row d-flex justify-content-start">
            <div class="pages">
                <div class="page is-active" data-page="1">
                    <div class="col-md-12">
                        <ul class="nav nav-pills">
                            <li class="nav-item">
                                <a href="#dailyvol" class="nav-link active" role="tab" data-toggle="tab">Daily Volumes</a>
                            </li>
                            <li class="nav-item">
                                <a href="#dailyopenint" class="nav-link" role="tab" data-toggle="tab">Daily Open Interest</a>
                            </li>
                            <li class="nav-item">
                                <a href="#monthlycallput" class="nav-link" role="tab" data-toggle="tab">Monthly Call Put Ratio</a>
                            </li>
                        </ul>
                    </div>
                    <div class="my-3 tab-content justify-content-center">
                        <div role="tabpanel" class="tab-pane active" id="dailyvol">
                            <div class="container bg-white text-dark" style="position: relative;">
                                <div class="row mx-3">
                                    <button class="btn btn-link" onclick="updatehistVolAllChart_1M()"><small>1M</small></button>
                                    <button class="btn btn-link" onclick="updatehistVolAllChart_3M()"><small>3M</small></button>
                                    <button class="btn btn-link" onclick="updatehistVolAllChart_6M()"><small>6M</small></button>
                                    <button class="btn btn-link" onclick="updatehistVolAllChart_ALL()"><small>1Y</small></button>
                                </div>
                                <div class="row">
                                    <div class="col-md-12">
                                        <canvas id="histVolAllChart" width="400" height="150"></canvas>
                                    </div>
                                    <div class="btn-group-vertical mt-3 mx-2">
    
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div role="tabpanel" class="tab-pane" id="dailyopenint">
                            <div class="container bg-white text-dark" style="position: relative;">
                                <div class="row mx-3">
                                    <button class="btn btn-link" onclick="updatehistOpenIntAllChart_1M()"><small>1M</small></button>
                                    <button class="btn btn-link" onclick="updatehistOpenIntAllChart_3M()"><small>3M</small></button>
                                    <button class="btn btn-link" onclick="updatehistOpenIntAllChart_6M()"><small>6M</small></button>
                                    <button class="btn btn-link" onclick="updatehistOpenIntAllChart_ALL()"><small>1Y</small></button>
                                </div>
                                <div class="row">
                                    <div class="col-md-12">
                                        <canvas id="histOIAllChart" width="400" height="150"></canvas>
                                    </div>
                                    <div class="btn-group-vertical mt-3 mx-2">
    
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="page" data-page="2">
                    <div class="col-md-12">
                        <ul class="nav nav-pills">
                            <li class="nav-item">
                                <a href="#dailyassetvol2" class="nav-link active" role="tab" data-toggle="tab">Daily Volumes</a>
                            </li>
                            <li class="nav-item">
                                <a href="#dailyassetopenint2" class="nav-link" role="tab" data-toggle="tab">Daily Open Interest</a>
                            </li>
                        </ul>
                    </div>
                    <div class="my-3 tab-content justify-content-center">
                        <div role="tabpanel" class="tab-pane active" id="dailyassetvol2">
                            <div class="container bg-white text-dark" style="position: relative;">
                                <div class="row mx-3">
                                    <button class="btn btn-link" id="dailyassetvol2-1M"><small>1M</small></button>
                                    <button class="btn btn-link" id="dailyassetvol2-3M"><small>3M</small></button>
                                    <button class="btn btn-link" id="dailyassetvol2-6M"><small>6M</small></button>
                                    <button class="btn btn-link" id="dailyassetvol2-1Y"><small>1Y</small></button>
                                </div>
                                <div class="row">
                                    <div class="col-md-12">
                                        <canvas id="histVolAssetChart2" width="400" height="150"></canvas>
                                    </div>
                                    <div class="btn-group-vertical mt-3 mx-2">
    
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div role="tabpanel" class="tab-pane" id="dailyassetopenint2">
                            <div class="container bg-white text-dark" style="position: relative;">
                                <div class="row mx-3">
                                    <button class="btn btn-link" id="dailyassetopenint2-1M"><small>1M</small></button>
                                    <button class="btn btn-link" id="dailyassetopenint2-3M"><small>3M</small></button>
                                    <button class="btn btn-link" id="dailyassetopenint2-6M"><small>6M</small></button>
                                    <button class="btn btn-link" id="dailyassetopenint2-1Y"><small>1Y</small></button>
                                </div>
                                <div class="row">
                                    <div class="col-md-12">
                                        <canvas id="histOpenIntAssetChart2" width="400" height="150"></canvas>
                                    </div>
                                    <div class="btn-group-vertical mt-3 mx-2">
    
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="page" data-page="3">
                    <div class="col-md-12">
                        <ul class="nav nav-pills">
                            <li class="nav-item">
                                <a href="#dailyassetvol3" class="nav-link active" role="tab" data-toggle="tab">Daily Volumes</a>
                            </li>
                            <li class="nav-item">
                                <a href="#dailyassetopenint3" class="nav-link" role="tab" data-toggle="tab">Daily Open Interest</a>
                            </li>
                        </ul>
                    </div>
                    <div class="my-3 tab-content justify-content-center">
                        <div role="tabpanel" class="tab-pane active" id="dailyassetvol3">
                            <div class="container bg-white text-dark" style="position: relative;">
                                <div class="row mx-3">
                                    <button class="btn btn-link" id="dailyassetvol3-1M"><small>1M</small></button>
                                    <button class="btn btn-link" id="dailyassetvol3-3M"><small>3M</small></button>
                                    <button class="btn btn-link" id="dailyassetvol3-6M"><small>6M</small></button>
                                    <button class="btn btn-link" id="dailyassetvol3-1Y"><small>1Y</small></button>
                                </div>
                                <div class="row">
                                    <div class="col-md-12">
                                        <canvas id="histVolAssetChart3" width="400" height="150"></canvas>
                                    </div>
                                    <div class="btn-group-vertical mt-3 mx-2">
    
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div role="tabpanel" class="tab-pane" id="dailyassetopenint3">
                            <div class="container bg-white text-dark" style="position: relative;">
                                <div class="row mx-3">
                                    <button class="btn btn-link" id="dailyassetopenint3-1M"><small>1M</small></button>
                                    <button class="btn btn-link" id="dailyassetopenint3-3M"><small>3M</small></button>
                                    <button class="btn btn-link" id="dailyassetopenint3-6M"><small>6M</small></button>
                                    <button class="btn btn-link" id="dailyassetopenint3-1Y"><small>1Y</small></button>
                                </div>
                                <div class="row">
                                    <div class="col-md-12">
                                        <canvas id="histOpenIntAssetChart3" width="400" height="150"></canvas>
                                    </div>
                                    <div class="btn-group-vertical mt-3 mx-2">
    
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="page" data-page="4">
                    <div class="col-md-12">
                        <ul class="nav nav-pills">
                            <li class="nav-item">
                                <a href="#dailyassetvol4" class="nav-link active" role="tab" data-toggle="tab">Daily Volumes</a>
                            </li>
                            <li class="nav-item">
                                <a href="#dailyassetopenint4" class="nav-link" role="tab" data-toggle="tab">Daily Open Interest</a>
                            </li>
                        </ul>
                    </div>
                    <div class="my-3 tab-content justify-content-center">
                        <div role="tabpanel" class="tab-pane active" id="dailyassetvol4">
                            <div class="container bg-white text-dark" style="position: relative;">
                                <div class="row mx-3">
                                    <button class="btn btn-link" id="dailyassetvol4-1M"><small>1M</small></button>
                                    <button class="btn btn-link" id="dailyassetvol4-3M"><small>3M</small></button>
                                    <button class="btn btn-link" id="dailyassetvol4-6M"><small>6M</small></button>
                                    <button class="btn btn-link" id="dailyassetvol4-1Y"><small>1Y</small></button>
                                </div>
                                <div class="row">
                                    <div class="col-md-12">
                                        <canvas id="histVolAssetChart4" width="400" height="150"></canvas>
                                    </div>
                                    <div class="btn-group-vertical mt-3 mx-2">
    
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div role="tabpanel" class="tab-pane" id="dailyassetopenint4">
                            <div class="container bg-white text-dark" style="position: relative;">
                                <div class="row mx-3">
                                    <button class="btn btn-link" id="dailyassetopenint4-1M"><small>1M</small></button>
                                    <button class="btn btn-link" id="dailyassetopenint4-3M"><small>3M</small></button>
                                    <button class="btn btn-link" id="dailyassetopenint4-6M"><small>6M</small></button>
                                    <button class="btn btn-link" id="dailyassetopenint4-1Y"><small>1Y</small></button>
                                </div>
                                <div class="row">
                                    <div class="col-md-12">
                                        <canvas id="histOpenIntAssetChart4" width="400" height="150"></canvas>
                                    </div>
                                    <div class="btn-group-vertical mt-3 mx-2">
    
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="page" data-page="5">
                    <div class="col-md-12">
                        <ul class="nav nav-pills">
                            <li class="nav-item">
                                <a href="#dailyassetvol5" class="nav-link active" role="tab" data-toggle="tab">Daily Volumes</a>
                            </li>
                            <li class="nav-item">
                                <a href="#dailyassetopenint5" class="nav-link" role="tab" data-toggle="tab">Daily Open Interest</a>
                            </li>
                        </ul>
                    </div>
                    <div class="my-3 tab-content justify-content-center">
                        <div role="tabpanel" class="tab-pane active" id="dailyassetvol5">
                            <div class="container bg-white text-dark" style="position: relative;">
                                <div class="row mx-3">
                                    <button class="btn btn-link" id="dailyassetvol5-1M"><small>1M</small></button>
                                    <button class="btn btn-link" id="dailyassetvol5-3M"><small>3M</small></button>
                                    <button class="btn btn-link" id="dailyassetvol5-6M"><small>6M</small></button>
                                    <button class="btn btn-link" id="dailyassetvol5-1Y"><small>1Y</small></button>
                                </div>
                                <div class="row">
                                    <div class="col-md-12">
                                        <canvas id="histVolAssetChart5" width="400" height="150"></canvas>
                                    </div>
                                    <div class="btn-group-vertical mt-3 mx-2">
    
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div role="tabpanel" class="tab-pane" id="dailyassetopenint5">
                            <div class="container bg-white text-dark" style="position: relative;">
                                <div class="row mx-3">
                                    <button class="btn btn-link" id="dailyassetopenint5-1M"><small>1M</small></button>
                                    <button class="btn btn-link" id="dailyassetopenint5-3M"><small>3M</small></button>
                                    <button class="btn btn-link" id="dailyassetopenint5-6M"><small>6M</small></button>
                                    <button class="btn btn-link" id="dailyassetopenint5-1Y"><small>1Y</small></button>
                                </div>
                                <div class="row">
                                    <div class="col-md-12">
                                        <canvas id="histOpenIntAssetChart5" width="400" height="150"></canvas>
                                    </div>
                                    <div class="btn-group-vertical mt-3 mx-2">
    
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="page" data-page="6">
                    <div class="col-md-12">
                        <ul class="nav nav-pills">
                            <li class="nav-item">
                                <a href="#dailyassetvol6" class="nav-link active" role="tab" data-toggle="tab">Daily Volumes</a>
                            </li>
                            <li class="nav-item">
                                <a href="#dailyassetopenint6" class="nav-link" role="tab" data-toggle="tab">Daily Open Interest</a>
                            </li>
                        </ul>
                    </div>
                    <div class="my-3 tab-content justify-content-center">
                        <div role="tabpanel" class="tab-pane active" id="dailyassetvol6">
                            <div class="container bg-white text-dark" style="position: relative;">
                                <div class="row mx-3">
                                    <button class="btn btn-link" id="dailyassetvol6-1M"><small>1M</small></button>
                                    <button class="btn btn-link" id="dailyassetvol6-3M"><small>3M</small></button>
                                    <button class="btn btn-link" id="dailyassetvol6-6M"><small>6M</small></button>
                                    <button class="btn btn-link" id="dailyassetvol6-1Y"><small>1Y</small></button>
                                </div>
                                <div class="row">
                                    <div class="col-md-12">
                                        <canvas id="histVolAssetChart6" width="400" height="150"></canvas>
                                    </div>
                                    <div class="btn-group-vertical mt-3 mx-2">
    
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div role="tabpanel" class="tab-pane" id="dailyassetopenint6">
                            <div class="container bg-white text-dark" style="position: relative;">
                                <div class="row mx-3">
                                    <button class="btn btn-link" id="dailyassetopenint6-1M"><small>1M</small></button>
                                    <button class="btn btn-link" id="dailyassetopenint6-3M"><small>3M</small></button>
                                    <button class="btn btn-link" id="dailyassetopenint6-6M"><small>6M</small></button>
                                    <button class="btn btn-link" id="dailyassetopenint6-1Y"><small>1Y</small></button>
                                </div>
                                <div class="row">
                                    <div class="col-md-12">
                                        <canvas id="histOpenIntAssetChart6" width="400" height="150"></canvas>
                                    </div>
                                    <div class="btn-group-vertical mt-3 mx-2">
    
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="page" data-page="7">
                    <div class="col-md-12">
                        <ul class="nav nav-pills">
                            <li class="nav-item">
                                <a href="#dailyassetvol7" class="nav-link active" role="tab" data-toggle="tab">Daily Volumes</a>
                            </li>
                            <li class="nav-item">
                                <a href="#dailyassetopenint7" class="nav-link" role="tab" data-toggle="tab">Daily Open Interest</a>
                            </li>
                        </ul>
                    </div>
                    <div class="my-3 tab-content justify-content-center">
                        <div role="tabpanel" class="tab-pane active" id="dailyassetvol7">
                            <div class="container bg-white text-dark" style="position: relative;">
                                <div class="row mx-3">
                                    <button class="btn btn-link" id="dailyassetvol7-1M"><small>1M</small></button>
                                    <button class="btn btn-link" id="dailyassetvol7-3M"><small>3M</small></button>
                                    <button class="btn btn-link" id="dailyassetvol7-6M"><small>6M</small></button>
                                    <button class="btn btn-link" id="dailyassetvol7-1Y"><small>1Y</small></button>
                                </div>
                                <div class="row">
                                    <div class="col-md-12">
                                        <canvas id="histVolAssetChart7" width="400" height="150"></canvas>
                                    </div>
                                    <div class="btn-group-vertical mt-3 mx-2">
    
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div role="tabpanel" class="tab-pane" id="dailyassetopenint7">
                            <div class="container bg-white text-dark" style="position: relative;">
                                <div class="row mx-3">
                                    <button class="btn btn-link" id="dailyassetopenint7-1M"><small>1M</small></button>
                                    <button class="btn btn-link" id="dailyassetopenint7-3M"><small>3M</small></button>
                                    <button class="btn btn-link" id="dailyassetopenint7-6M"><small>6M</small></button>
                                    <button class="btn btn-link" id="dailyassetopenint7-1Y"><small>1Y</small></button>
                                </div>
                                <div class="row">
                                    <div class="col-md-12">
                                        <canvas id="histOpenIntAssetChart7" width="400" height="150"></canvas>
                                    </div>
                                    <div class="btn-group-vertical mt-3 mx-2">
    
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="page" data-page="8">
                    <div class="col-md-12">
                        <ul class="nav nav-pills">
                            <li class="nav-item">
                                <a href="#dailyassetvol8" class="nav-link active" role="tab" data-toggle="tab">Daily Volumes</a>
                            </li>
                            <li class="nav-item">
                                <a href="#dailyassetopenint8" class="nav-link" role="tab" data-toggle="tab">Daily Open Interest</a>
                            </li>
                        </ul>
                    </div>
                    <div class="my-3 tab-content justify-content-center">
                        <div role="tabpanel" class="tab-pane active" id="dailyassetvol8">
                            <div class="container bg-white text-dark" style="position: relative;">
                                <div class="row mx-3">
                                    <button class="btn btn-link" id="dailyassetvol8-1M"><small>1M</small></button>
                                    <button class="btn btn-link" id="dailyassetvol8-3M"><small>3M</small></button>
                                    <button class="btn btn-link" id="dailyassetvol8-6M"><small>6M</small></button>
                                    <button class="btn btn-link" id="dailyassetvol8-1Y"><small>1Y</small></button>
                                </div>
                                <div class="row">
                                    <div class="col-md-12">
                                        <canvas id="histVolAssetChart8" width="400" height="150"></canvas>
                                    </div>
                                    <div class="btn-group-vertical mt-3 mx-2">
    
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div role="tabpanel" class="tab-pane" id="dailyassetopenint8">
                            <div class="container bg-white text-dark" style="position: relative;">
                                <div class="row mx-3">
                                    <button class="btn btn-link" id="dailyassetopenint8-1M"><small>1M</small></button>
                                    <button class="btn btn-link" id="dailyassetopenint8-3M"><small>3M</small></button>
                                    <button class="btn btn-link" id="dailyassetopenint8-6M"><small>6M</small></button>
                                    <button class="btn btn-link" id="dailyassetopenint8-1Y"><small>1Y</small></button>
                                </div>
                                <div class="row">
                                    <div class="col-md-12">
                                        <canvas id="histOpenIntAssetChart8" width="400" height="150"></canvas>
                                    </div>
                                    <div class="btn-group-vertical mt-3 mx-2">
    
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>

var histVolAssetChart;
var histOpenIntAssetChart;
   
   window.onload = () => {

       const tab_switchers = document.querySelectorAll('[data-switcher]');

       for (let i = 0; i < tab_switchers.length; i++) {
           const tab_switcher = tab_switchers[i];
           const page_id = tab_switcher.dataset.tab;

           const datacallURL = `/options/histvolcallstats/${page_id}/`
           const dataputURL = `/options/histvolputstats/${page_id}/`
           const datacallopenintURL = `/options/histopenintcallstats/${page_id}/`
           const dataputopenintURL = `/options/histopenintputstats/${page_id}/`

           var state ={	
               'itemsassetvolcall':[],
               'valuesassetvolcall':[],   
               'itemsassetvolput':[],
               'valuesassetvolput':[],
               'itemsassetvolcall23':[],
               'valuesassetvolcall23':[],
               'itemsassetvolput23':[],
               'valuesassetvolput23':[],
               'itemsassetvolcall68':[],
               'valuesassetvolcall68':[], 
               'itemsassetvolput68':[],
               'valuesassetvolput68':[], 
               'itemsassetvolcall135':[],
               'valuesassetvolcall135':[], 
               'itemsassetvolput135':[],
               'valuesassetvolput135':[],
               'itemsassetvolcall252':[],
               'valuesassetvolcall252':[],                 
               'itemsassetvolput252':[],
               'valuesassetvolput252':[],                 
           }

           var stateopenint ={	
               'itemsassetopenintcall':[],
               'valuesassetopenintcall':[],   
               'itemsassetopenintput':[],
               'valuesassetopenintput':[],
               'itemsassetopenintcall23':[],
               'valuesassetopenintcall23':[],
               'itemsassetopenintput23':[],
               'valuesassetopenintput23':[],
               'itemsassetopenintcall68':[],
               'valuesassetopenintcall68':[], 
               'itemsassetopenintput68':[],
               'valuesassetopenintput68':[], 
               'itemsassetopenintcall135':[],
               'valuesassetopenintcall135':[], 
               'itemsassetopenintput135':[],
               'valuesassetopenintput135':[],
               'itemsassetopenintcall252':[],
               'valuesassetopenintcall252':[],                 
               'itemsassetopenintput252':[],
               'valuesassetopenintput252':[],                
           }

           tab_switcher.addEventListener('click', () => {
               document.querySelector('.tabs .tab.is-active').classList.remove('is-active');
               tab_switcher.parentNode.classList.add('is-active');

               SwitchPage(page_id);

                $.ajax({
                   method: "GET",
                   url: datacallURL,
                   success: function(response){
                       for (var i in response){
                           var key = Object.keys(response[i])[0]
                           var value = Object.values(response[i])[0]
                   
                           state.itemsassetvolcall.push(key)
                           state.valuesassetvolcall.push(value)}

                       state.itemsassetvolcall23 = state.itemsassetvolcall.slice(-23)
                       state.valuesassetvolcall23 = state.valuesassetvolcall.slice(-23)  

                       state.itemsassetvolcall68 = state.itemsassetvolcall.slice(-68)
                       state.valuesassetvolcall68 = state.valuesassetvolcall.slice(-68)   

                       state.itemsassetvolcall135 = state.itemsassetvolcall.slice(-135)
                       state.valuesassetvolcall135 = state.valuesassetvolcall.slice(-135)   

                       state.itemsassetvolcall252 = state.itemsassetvolcall.slice(-252)
                       state.valuesassetvolcall252 = state.valuesassetvolcall.slice(-252) 

                       console.log(state.itemsassetvolcall23)
                       console.log(state.valuesassetvolcall23)
                       
                       setHistVolAssetStatsGraph()
                   },
                   error: function(error_data){
                       console.log("error")
                       console.log(error_data)
                   }
               })

                $.ajax({
                   method: "GET",
                   url: dataputURL,
                   success: function(response){
                       for (var i in response){
                           var key = Object.keys(response[i])[0]
                           var value = Object.values(response[i])[0]
                   
                           state.itemsassetvolput.push(key)
                           state.valuesassetvolput.push(value)}

                       state.itemsassetvolput23 = state.itemsassetvolput.slice(-23)
                       state.valuesassetvolput23 = state.valuesassetvolput.slice(-23) 

                       state.itemsassetvolput68 = state.itemsassetvolput.slice(-68)
                       state.valuesassetvolput68 = state.valuesassetvolput.slice(-68)   

                       state.itemsassetvolput135 = state.itemsassetvolput.slice(-135)
                       state.valuesassetvolput135 = state.valuesassetvolput.slice(-135)
                       
                       state.itemsassetvolput252 = state.itemsassetvolput.slice(-252)
                       state.valuesassetvolput252 = state.valuesassetvolput.slice(-252) 

                       console.log(state.itemsassetvolput23)
                       console.log(state.valuesassetvolput23)
                       
                       setHistVolAssetStatsGraph()
                   },
                   error: function(error_data){
                       console.log("error")
                       console.log(error_data)
                   }
               }) 

                $.ajax({
                   method: "GET",
                   url: datacallopenintURL,
                   success: function(response){
                       for (var i in response){
                           var key = Object.keys(response[i])[0]
                           var value = Object.values(response[i])[0]
                   
                           stateopenint.itemsassetopenintcall.push(key)
                           stateopenint.valuesassetopenintcall.push(value)}

                       stateopenint.itemsassetopenintcall23 = stateopenint.itemsassetopenintcall.slice(-23)
                       stateopenint.valuesassetopenintcall23 = stateopenint.valuesassetopenintcall.slice(-23)  

                       stateopenint.itemsassetopenintcall68 = stateopenint.itemsassetopenintcall.slice(-68)
                       stateopenint.valuesassetopenintcall68 = stateopenint.valuesassetopenintcall.slice(-68)   

                       stateopenint.itemsassetopenintcall135 = stateopenint.itemsassetopenintcall.slice(-135)
                       stateopenint.valuesassetopenintcall135 = stateopenint.valuesassetopenintcall.slice(-135)   

                       stateopenint.itemsassetopenintcall252 = stateopenint.itemsassetopenintcall.slice(-252)
                       stateopenint.valuesassetopenintcall252 = stateopenint.valuesassetopenintcall.slice(-252) 

                       console.log(stateopenint.itemsassetopenintcall23)
                       console.log(stateopenint.valuesassetopenintcall23)
                       
                       setHistOpenIntAssetStatsGraph()
                   },
                   error: function(error_data){
                       console.log("error")
                       console.log(error_data)
                   }
                })

                $.ajax({
                   method: "GET",
                   url: dataputopenintURL,
                   success: function(response){
                       for (var i in response){
                           var key = Object.keys(response[i])[0]
                           var value = Object.values(response[i])[0]
                   
                           stateopenint.itemsassetopenintput.push(key)
                           stateopenint.valuesassetopenintput.push(value)}

                       stateopenint.itemsassetopenintput23 = stateopenint.itemsassetopenintput.slice(-23)
                       stateopenint.valuesassetopenintput23 = stateopenint.valuesassetopenintput.slice(-23) 

                       stateopenint.itemsassetopenintput68 = stateopenint.itemsassetopenintput.slice(-68)
                       stateopenint.valuesassetopenintput68 = stateopenint.valuesassetopenintput.slice(-68)   

                       stateopenint.itemsassetopenintput135 = stateopenint.itemsassetopenintput.slice(-135)
                       stateopenint.valuesassetopenintput135 = stateopenint.valuesassetopenintput.slice(-135)
                       
                       stateopenint.itemsassetopenintput252 = stateopenint.itemsassetopenintput.slice(-252)
                       stateopenint.valuesassetopenintput252 = stateopenint.valuesassetopenintput.slice(-252) 

                       console.log(stateopenint.itemsassetopenintput23)
                       console.log(stateopenint.valuesassetopenintput23)
                       
                       setHistOpenIntAssetStatsGraph()
                   },
                   error: function(error_data){
                       console.log("error")
                       console.log(error_data)
                   }
                })  

               document.getElementById('dailyassetvol2-1M').onclick = function() {
                   histVolAssetChart.data.labels = state.itemsassetvolcall23;
                   histVolAssetChart.data.datasets[0].data = state.valuesassetvolcall23;
                   histVolAssetChart.data.datasets[1].data = state.valuesassetvolput23;
                   histVolAssetChart.update();
               }

               document.getElementById('dailyassetvol2-3M').onclick = function() {
                   histVolAssetChart.data.labels = state.itemsassetvolcall68;
                   histVolAssetChart.data.datasets[0].data = state.valuesassetvolcall68;
                   histVolAssetChart.data.datasets[1].data = state.valuesassetvolput68;
                   histVolAssetChart.update();
               }

               document.getElementById('dailyassetvol2-6M').onclick = function() {
                   histVolAssetChart.data.labels = state.itemsassetvolcall135;
                   histVolAssetChart.data.datasets[0].data = state.valuesassetvolcall135;
                   histVolAssetChart.data.datasets[1].data = state.valuesassetvolput135;
                   histVolAssetChart.update();
               }

               document.getElementById('dailyassetvol2-1Y').onclick = function() {
                   histVolAssetChart.data.labels = state.itemsassetvolcall252;
                   histVolAssetChart.data.datasets[0].data = state.valuesassetvolcall252;
                   histVolAssetChart.data.datasets[1].data = state.valuesassetvolput252;
                   histVolAssetChart.update();
               }

               document.getElementById('dailyassetvol3-1M').onclick = function() {
                   histVolAssetChart.data.labels = state.itemsassetvolcall23;
                   histVolAssetChart.data.datasets[0].data = state.valuesassetvolcall23;
                   histVolAssetChart.data.datasets[1].data = state.valuesassetvolput23;
                   histVolAssetChart.update();
               }

               document.getElementById('dailyassetvol3-3M').onclick = function() {
                   histVolAssetChart.data.labels = state.itemsassetvolcall68;
                   histVolAssetChart.data.datasets[0].data = state.valuesassetvolcall68;
                   histVolAssetChart.data.datasets[1].data = state.valuesassetvolput68;
                   histVolAssetChart.update();
               }

               document.getElementById('dailyassetvol3-6M').onclick = function() {
                   histVolAssetChart.data.labels = state.itemsassetvolcall135;
                   histVolAssetChart.data.datasets[0].data = state.valuesassetvolcall135;
                   histVolAssetChart.data.datasets[1].data = state.valuesassetvolput135;
                   histVolAssetChart.update();
               }

               document.getElementById('dailyassetvol3-1Y').onclick = function() {
                   histVolAssetChart.data.labels = state.itemsassetvolcall252;
                   histVolAssetChart.data.datasets[0].data = state.valuesassetvolcall252;
                   histVolAssetChart.data.datasets[1].data = state.valuesassetvolput252;
                   histVolAssetChart.update();
               }

               document.getElementById('dailyassetvol4-1M').onclick = function() {
                   histVolAssetChart.data.labels = state.itemsassetvolcall23;
                   histVolAssetChart.data.datasets[0].data = state.valuesassetvolcall23;
                   histVolAssetChart.data.datasets[1].data = state.valuesassetvolput23;
                   histVolAssetChart.update();
               }

               document.getElementById('dailyassetvol4-3M').onclick = function() {
                   histVolAssetChart.data.labels = state.itemsassetvolcall68;
                   histVolAssetChart.data.datasets[0].data = state.valuesassetvolcall68;
                   histVolAssetChart.data.datasets[1].data = state.valuesassetvolput68;
                   histVolAssetChart.update();
               }

               document.getElementById('dailyassetvol4-6M').onclick = function() {
                   histVolAssetChart.data.labels = state.itemsassetvolcall135;
                   histVolAssetChart.data.datasets[0].data = state.valuesassetvolcall135;
                   histVolAssetChart.data.datasets[1].data = state.valuesassetvolput135;
                   histVolAssetChart.update();
               }

               document.getElementById('dailyassetvol4-1Y').onclick = function() {
                   histVolAssetChart.data.labels = state.itemsassetvolcall252;
                   histVolAssetChart.data.datasets[0].data = state.valuesassetvolcall252;
                   histVolAssetChart.data.datasets[1].data = state.valuesassetvolput252;
                   histVolAssetChart.update();
               }

               document.getElementById('dailyassetvol5-1M').onclick = function() {
                   histVolAssetChart.data.labels = state.itemsassetvolcall23;
                   histVolAssetChart.data.datasets[0].data = state.valuesassetvolcall23;
                   histVolAssetChart.data.datasets[1].data = state.valuesassetvolput23;
                   histVolAssetChart.update();
               }

               document.getElementById('dailyassetvol5-3M').onclick = function() {
                   histVolAssetChart.data.labels = state.itemsassetvolcall68;
                   histVolAssetChart.data.datasets[0].data = state.valuesassetvolcall68;
                   histVolAssetChart.data.datasets[1].data = state.valuesassetvolput68;
                   histVolAssetChart.update();
               }

               document.getElementById('dailyassetvol5-6M').onclick = function() {
                   histVolAssetChart.data.labels = state.itemsassetvolcall135;
                   histVolAssetChart.data.datasets[0].data = state.valuesassetvolcall135;
                   histVolAssetChart.data.datasets[1].data = state.valuesassetvolput135;
                   histVolAssetChart.update();
               }

               document.getElementById('dailyassetvol5-1Y').onclick = function() {
                   histVolAssetChart.data.labels = state.itemsassetvolcall252;
                   histVolAssetChart.data.datasets[0].data = state.valuesassetvolcall252;
                   histVolAssetChart.data.datasets[1].data = state.valuesassetvolput252;
                   histVolAssetChart.update();
               }

               document.getElementById('dailyassetvol6-1M').onclick = function() {
                   histVolAssetChart.data.labels = state.itemsassetvolcall23;
                   histVolAssetChart.data.datasets[0].data = state.valuesassetvolcall23;
                   histVolAssetChart.data.datasets[1].data = state.valuesassetvolput23;
                   histVolAssetChart.update();
               }

               document.getElementById('dailyassetvol6-3M').onclick = function() {
                   histVolAssetChart.data.labels = state.itemsassetvolcall68;
                   histVolAssetChart.data.datasets[0].data = state.valuesassetvolcall68;
                   histVolAssetChart.data.datasets[1].data = state.valuesassetvolput68;
                   histVolAssetChart.update();
               }

               document.getElementById('dailyassetvol6-6M').onclick = function() {
                   histVolAssetChart.data.labels = state.itemsassetvolcall135;
                   histVolAssetChart.data.datasets[0].data = state.valuesassetvolcall135;
                   histVolAssetChart.data.datasets[1].data = state.valuesassetvolput135;
                   histVolAssetChart.update();
               }

               document.getElementById('dailyassetvol6-1Y').onclick = function() {
                   histVolAssetChart.data.labels = state.itemsassetvolcall252;
                   histVolAssetChart.data.datasets[0].data = state.valuesassetvolcall252;
                   histVolAssetChart.data.datasets[1].data = state.valuesassetvolput252;
                   histVolAssetChart.update();
               }

               document.getElementById('dailyassetvol7-1M').onclick = function() {
                   histVolAssetChart.data.labels = state.itemsassetvolcall23;
                   histVolAssetChart.data.datasets[0].data = state.valuesassetvolcall23;
                   histVolAssetChart.data.datasets[1].data = state.valuesassetvolput23;
                   histVolAssetChart.update();
               }

               document.getElementById('dailyassetvol7-3M').onclick = function() {
                   histVolAssetChart.data.labels = state.itemsassetvolcall68;
                   histVolAssetChart.data.datasets[0].data = state.valuesassetvolcall68;
                   histVolAssetChart.data.datasets[1].data = state.valuesassetvolput68;
                   histVolAssetChart.update();
               }

               document.getElementById('dailyassetvol7-6M').onclick = function() {
                   histVolAssetChart.data.labels = state.itemsassetvolcall135;
                   histVolAssetChart.data.datasets[0].data = state.valuesassetvolcall135;
                   histVolAssetChart.data.datasets[1].data = state.valuesassetvolput135;
                   histVolAssetChart.update();
               }

               document.getElementById('dailyassetvol7-1Y').onclick = function() {
                   histVolAssetChart.data.labels = state.itemsassetvolcall252;
                   histVolAssetChart.data.datasets[0].data = state.valuesassetvolcall252;
                   histVolAssetChart.data.datasets[1].data = state.valuesassetvolput252;
                   histVolAssetChart.update();
               }

               document.getElementById('dailyassetvol8-1M').onclick = function() {
                   histVolAssetChart.data.labels = state.itemsassetvolcall23;
                   histVolAssetChart.data.datasets[0].data = state.valuesassetvolcall23;
                   histVolAssetChart.data.datasets[1].data = state.valuesassetvolput23;
                   histVolAssetChart.update();
               }

               document.getElementById('dailyassetvol8-3M').onclick = function() {
                   histVolAssetChart.data.labels = state.itemsassetvolcall68;
                   histVolAssetChart.data.datasets[0].data = state.valuesassetvolcall68;
                   histVolAssetChart.data.datasets[1].data = state.valuesassetvolput68;
                   histVolAssetChart.update();
               }

               document.getElementById('dailyassetvol8-6M').onclick = function() {
                   histVolAssetChart.data.labels = state.itemsassetvolcall135;
                   histVolAssetChart.data.datasets[0].data = state.valuesassetvolcall135;
                   histVolAssetChart.data.datasets[1].data = state.valuesassetvolput135;
                   histVolAssetChart.update();
               }

               document.getElementById('dailyassetvol8-1Y').onclick = function() {
                   histVolAssetChart.data.labels = state.itemsassetvolcall252;
                   histVolAssetChart.data.datasets[0].data = state.valuesassetvolcall252;
                   histVolAssetChart.data.datasets[1].data = state.valuesassetvolput252;
                   histVolAssetChart.update();
               }

               document.getElementById('dailyassetopenint2-1M').onclick = function() {
                   histOpenIntAssetChart.data.labels = stateopenint.itemsassetopenintcall23;
                   histOpenIntAssetChart.data.datasets[0].data = stateopenint.valuesassetopenintcall23;
                   histOpenIntAssetChart.data.datasets[1].data = stateopenint.valuesassetopenintput23;
                   histOpenIntAssetChart.update();
               }

               document.getElementById('dailyassetopenint2-3M').onclick = function() {
                   histOpenIntAssetChart.data.labels = stateopenint.itemsassetopenintcall68;
                   histOpenIntAssetChart.data.datasets[0].data = stateopenint.valuesassetopenintcall68;
                   histOpenIntAssetChart.data.datasets[1].data = stateopenint.valuesassetopenintput68;
                   histOpenIntAssetChart.update();
               }

               document.getElementById('dailyassetopenint2-6M').onclick = function() {
                   histOpenIntAssetChart.data.labels = stateopenint.itemsassetopenintcall135;
                   histOpenIntAssetChart.data.datasets[0].data = stateopenint.valuesassetopenintcall135;
                   histOpenIntAssetChart.data.datasets[1].data = stateopenint.valuesassetopenintput135;
                   histOpenIntAssetChart.update();
               }

               document.getElementById('dailyassetopenint2-1Y').onclick = function() {
                   histOpenIntAssetChart.data.labels = stateopenint.itemsassetopenintcall252;
                   histOpenIntAssetChart.data.datasets[0].data = stateopenint.valuesassetopenintcall252;
                   histOpenIntAssetChart.data.datasets[1].data = stateopenint.valuesassetopenintput252;
                   histOpenIntAssetChart.update();
               }

               document.getElementById('dailyassetopenint3-1M').onclick = function() {
                   histOpenIntAssetChart.data.labels = stateopenint.itemsassetopenintcall23;
                   histOpenIntAssetChart.data.datasets[0].data = stateopenint.valuesassetopenintcall23;
                   histOpenIntAssetChart.data.datasets[1].data = stateopenint.valuesassetopenintput23;
                   histOpenIntAssetChart.update();
               }

               document.getElementById('dailyassetopenint3-3M').onclick = function() {
                   histOpenIntAssetChart.data.labels = stateopenint.itemsassetopenintcall68;
                   histOpenIntAssetChart.data.datasets[0].data = stateopenint.valuesassetopenintcall68;
                   histOpenIntAssetChart.data.datasets[1].data = stateopenint.valuesassetopenintput68;
                   histOpenIntAssetChart.update();
               }

               document.getElementById('dailyassetopenint3-6M').onclick = function() {
                   histOpenIntAssetChart.data.labels = stateopenint.itemsassetopenintcall135;
                   histOpenIntAssetChart.data.datasets[0].data = stateopenint.valuesassetopenintcall135;
                   histOpenIntAssetChart.data.datasets[1].data = stateopenint.valuesassetopenintput135;
                   histOpenIntAssetChart.update();
               }

               document.getElementById('dailyassetopenint3-1Y').onclick = function() {
                   histOpenIntAssetChart.data.labels = stateopenint.itemsassetopenintcall252;
                   histOpenIntAssetChart.data.datasets[0].data = stateopenint.valuesassetopenintcall252;
                   histOpenIntAssetChart.data.datasets[1].data = stateopenint.valuesassetopenintput252;
                   histOpenIntAssetChart.update();
               }

               document.getElementById('dailyassetopenint4-1M').onclick = function() {
                   histOpenIntAssetChart.data.labels = stateopenint.itemsassetopenintcall23;
                   histOpenIntAssetChart.data.datasets[0].data = stateopenint.valuesassetopenintcall23;
                   histOpenIntAssetChart.data.datasets[1].data = stateopenint.valuesassetopenintput23;
                   histOpenIntAssetChart.update();
               }

               document.getElementById('dailyassetopenint4-3M').onclick = function() {
                   histOpenIntAssetChart.data.labels = stateopenint.itemsassetopenintcall68;
                   histOpenIntAssetChart.data.datasets[0].data = stateopenint.valuesassetopenintcall68;
                   histOpenIntAssetChart.data.datasets[1].data = stateopenint.valuesassetopenintput68;
                   histOpenIntAssetChart.update();
               }

               document.getElementById('dailyassetopenint4-6M').onclick = function() {
                   histOpenIntAssetChart.data.labels = stateopenint.itemsassetopenintcall135;
                   histOpenIntAssetChart.data.datasets[0].data = stateopenint.valuesassetopenintcall135;
                   histOpenIntAssetChart.data.datasets[1].data = stateopenint.valuesassetopenintput135;
                   histOpenIntAssetChart.update();
               }

               document.getElementById('dailyassetopenint4-1Y').onclick = function() {
                   histOpenIntAssetChart.data.labels = stateopenint.itemsassetopenintcall252;
                   histOpenIntAssetChart.data.datasets[0].data = stateopenint.valuesassetopenintcall252;
                   histOpenIntAssetChart.data.datasets[1].data = stateopenint.valuesassetopenintput252;
                   histOpenIntAssetChart.update();
               }
			   
               document.getElementById('dailyassetopenint5-1M').onclick = function() {
                   histOpenIntAssetChart.data.labels = stateopenint.itemsassetopenintcall23;
                   histOpenIntAssetChart.data.datasets[0].data = stateopenint.valuesassetopenintcall23;
                   histOpenIntAssetChart.data.datasets[1].data = stateopenint.valuesassetopenintput23;
                   histOpenIntAssetChart.update();
               }

               document.getElementById('dailyassetopenint5-3M').onclick = function() {
                   histOpenIntAssetChart.data.labels = stateopenint.itemsassetopenintcall68;
                   histOpenIntAssetChart.data.datasets[0].data = stateopenint.valuesassetopenintcall68;
                   histOpenIntAssetChart.data.datasets[1].data = stateopenint.valuesassetopenintput68;
                   histOpenIntAssetChart.update();
               }

               document.getElementById('dailyassetopenint5-6M').onclick = function() {
                   histOpenIntAssetChart.data.labels = stateopenint.itemsassetopenintcall135;
                   histOpenIntAssetChart.data.datasets[0].data = stateopenint.valuesassetopenintcall135;
                   histOpenIntAssetChart.data.datasets[1].data = stateopenint.valuesassetopenintput135;
                   histOpenIntAssetChart.update();
               }

               document.getElementById('dailyassetopenint5-1Y').onclick = function() {
                   histOpenIntAssetChart.data.labels = stateopenint.itemsassetopenintcall252;
                   histOpenIntAssetChart.data.datasets[0].data = stateopenint.valuesassetopenintcall252;
                   histOpenIntAssetChart.data.datasets[1].data = stateopenint.valuesassetopenintput252;
                   histOpenIntAssetChart.update();
               }
			   
			    document.getElementById('dailyassetopenint6-1M').onclick = function() {
                   histOpenIntAssetChart.data.labels = stateopenint.itemsassetopenintcall23;
                   histOpenIntAssetChart.data.datasets[0].data = stateopenint.valuesassetopenintcall23;
                   histOpenIntAssetChart.data.datasets[1].data = stateopenint.valuesassetopenintput23;
                   histOpenIntAssetChart.update();
               }

               document.getElementById('dailyassetopenint6-3M').onclick = function() {
                   histOpenIntAssetChart.data.labels = stateopenint.itemsassetopenintcall68;
                   histOpenIntAssetChart.data.datasets[0].data = stateopenint.valuesassetopenintcall68;
                   histOpenIntAssetChart.data.datasets[1].data = stateopenint.valuesassetopenintput68;
                   histOpenIntAssetChart.update();
               }

               document.getElementById('dailyassetopenint6-6M').onclick = function() {
                   histOpenIntAssetChart.data.labels = stateopenint.itemsassetopenintcall135;
                   histOpenIntAssetChart.data.datasets[0].data = stateopenint.valuesassetopenintcall135;
                   histOpenIntAssetChart.data.datasets[1].data = stateopenint.valuesassetopenintput135;
                   histOpenIntAssetChart.update();
               }

               document.getElementById('dailyassetopenint6-1Y').onclick = function() {
                   histOpenIntAssetChart.data.labels = stateopenint.itemsassetopenintcall252;
                   histOpenIntAssetChart.data.datasets[0].data = stateopenint.valuesassetopenintcall252;
                   histOpenIntAssetChart.data.datasets[1].data = stateopenint.valuesassetopenintput252;
                   histOpenIntAssetChart.update();
               }
			   
               document.getElementById('dailyassetopenint7-1M').onclick = function() {
                   histOpenIntAssetChart.data.labels = stateopenint.itemsassetopenintcall23;
                   histOpenIntAssetChart.data.datasets[0].data = stateopenint.valuesassetopenintcall23;
                   histOpenIntAssetChart.data.datasets[1].data = stateopenint.valuesassetopenintput23;
                   histOpenIntAssetChart.update();
               }

               document.getElementById('dailyassetopenint7-3M').onclick = function() {
                   histOpenIntAssetChart.data.labels = stateopenint.itemsassetopenintcall68;
                   histOpenIntAssetChart.data.datasets[0].data = stateopenint.valuesassetopenintcall68;
                   histOpenIntAssetChart.data.datasets[1].data = stateopenint.valuesassetopenintput68;
                   histOpenIntAssetChart.update();
               }

               document.getElementById('dailyassetopenint7-6M').onclick = function() {
                   histOpenIntAssetChart.data.labels = stateopenint.itemsassetopenintcall135;
                   histOpenIntAssetChart.data.datasets[0].data = stateopenint.valuesassetopenintcall135;
                   histOpenIntAssetChart.data.datasets[1].data = stateopenint.valuesassetopenintput135;
                   histOpenIntAssetChart.update();
               }

               document.getElementById('dailyassetopenint7-1Y').onclick = function() {
                   histOpenIntAssetChart.data.labels = stateopenint.itemsassetopenintcall252;
                   histOpenIntAssetChart.data.datasets[0].data = stateopenint.valuesassetopenintcall252;
                   histOpenIntAssetChart.data.datasets[1].data = stateopenint.valuesassetopenintput252;
                   histOpenIntAssetChart.update();
               }
			   
               document.getElementById('dailyassetopenint8-1M').onclick = function() {
                   histOpenIntAssetChart.data.labels = stateopenint.itemsassetopenintcall23;
                   histOpenIntAssetChart.data.datasets[0].data = stateopenint.valuesassetopenintcall23;
                   histOpenIntAssetChart.data.datasets[1].data = stateopenint.valuesassetopenintput23;
                   histOpenIntAssetChart.update();
               }

               document.getElementById('dailyassetopenint8-3M').onclick = function() {
                   histOpenIntAssetChart.data.labels = stateopenint.itemsassetopenintcall68;
                   histOpenIntAssetChart.data.datasets[0].data = stateopenint.valuesassetopenintcall68;
                   histOpenIntAssetChart.data.datasets[1].data = stateopenint.valuesassetopenintput68;
                   histOpenIntAssetChart.update();
               }

               document.getElementById('dailyassetopenint8-6M').onclick = function() {
                   histOpenIntAssetChart.data.labels = stateopenint.itemsassetopenintcall135;
                   histOpenIntAssetChart.data.datasets[0].data = stateopenint.valuesassetopenintcall135;
                   histOpenIntAssetChart.data.datasets[1].data = stateopenint.valuesassetopenintput135;
                   histOpenIntAssetChart.update();
               }

               document.getElementById('dailyassetopenint8-1Y').onclick = function() {
                   histOpenIntAssetChart.data.labels = stateopenint.itemsassetopenintcall252;
                   histOpenIntAssetChart.data.datasets[0].data = stateopenint.valuesassetopenintcall252;
                   histOpenIntAssetChart.data.datasets[1].data = stateopenint.valuesassetopenintput252;
                   histOpenIntAssetChart.update();
               }
                              
               function setHistVolAssetStatsGraph(){
                   if (histVolAssetChart) {
                       histVolAssetChart.destroy();
                   }
                   var ctx = document.getElementById("histVolAssetChart".concat(page_id)).getContext('2d');
                   //console.log(ctx)
                   histVolAssetChart = new Chart(ctx, {
                   responsive: true,
                   type: 'bar',
                   data: {
                       labels: state.itemsassetvolcall23,
                       datasets: [{
                           label: 'Calls',
                           data: state.valuesassetvolcall23,
                           borderColor: 'rgba(63, 243, 27, 0.5)',
                           backgroundColor: 'rgba(63, 243, 27, 0.5)',

                       },{
                       label: "Puts",
                       data: state.valuesassetvolput23,
                       borderColor: 'rgba(243, 45, 27, 0.5)',
                       backgroundColor: 'rgba(243, 45, 27, 0.5)',

                       },
                       ]
                   },
                   options: {
                       scales: {
                           yAxes: [{
                               stacked: true,
                           }
                           ],
                           xAxes: [{
                               stacked: true,
                               ticks: {
                                   autoSkip: true,
                                   maxTicksLimit: 20,
                                   maxRotation: 45,
                                   minRotation: 45
                               }
                           }]
                       },
                   }
                   })
               }

               function setHistOpenIntAssetStatsGraph(){
                   
                   if (histOpenIntAssetChart) {
                       histOpenIntAssetChart.destroy();
                   }
                   var ctx = document.getElementById("histOpenIntAssetChart".concat(page_id)).getContext('2d');
                   //console.log(ctx)
                   histOpenIntAssetChart = new Chart(ctx, {
                   responsive: true,
                   type: 'bar',
                   data: {
                       labels: stateopenint.itemsassetopenintcall23,
                       datasets: [{
                           label: 'Calls',
                           data: stateopenint.valuesassetopenintcall23,
                           borderColor: 'rgba(63, 243, 27, 0.5)',
                           backgroundColor: 'rgba(63, 243, 27, 0.5)',

                       },{
                       label: "Puts",
                       data: stateopenint.valuesassetopenintput23,
                       borderColor: 'rgba(243, 45, 27, 0.5)',
                       backgroundColor: 'rgba(243, 45, 27, 0.5)',

                       },
                       ]
                   },
                   options: {
                       scales: {
                           yAxes: [{
                               stacked: true,
                           }
                           ],
                           xAxes: [{
                               stacked: true,
                               ticks: {
                                   autoSkip: true,
                                   maxTicksLimit: 20,
                                   maxRotation: 45,
                                   minRotation: 45
                               }
                           }]
                       },
                   }
                   })
               }

           });
       }
   }

    function SwitchPage (page_id) {
        console.log(page_id);

        const current_page = document.querySelector('.pages .page.is-active');
        current_page.classList.remove('is-active');

        const next_page = document.querySelector(`.pages .page[data-page="${page_id}"]`);
        next_page.classList.add('is-active');
    }

</script>

<script> 

    var histVolAllChart;

    var datavolcallURL = `{% url 'option_pricing:optionhistvolallcallstats'%}`
    var datavolputURL = `{% url 'option_pricing:optionhistvolallputstats'%}`

    var statevol ={	
		'itemsvolcall':[],
		'valuesvolcall':[],
        'itemsvolput':[],
        'valuesvolput':[],
        'itemsvolcall23':[],
		'valuesvolcall23':[],
        'itemsvolput23':[],
		'valuesvolput23':[],
        'itemsvolcall68':[],
		'valuesvolcall68':[],
        'itemsvolput68':[],
		'valuesvolput68':[],    
        'itemsvolcall135':[],
		'valuesvolcall135':[], 
        'itemsvolput135':[],
		'valuesvolput135':[], 
	}

    $.ajax({
        method: "GET",
        url: datavolcallURL,
        success: function(response){

            for (var i in response){
                var key = Object.keys(response[i])[0]
				var value = Object.values(response[i])[0]
           
				statevol.itemsvolcall.push(key)
                statevol.valuesvolcall.push(value)}

            statevol.itemsvolcall23 = statevol.itemsvolcall.slice(-23)
            statevol.valuesvolcall23 = statevol.valuesvolcall.slice(-23)

            statevol.itemsvolcall68 = statevol.itemsvolcall.slice(-68)
            statevol.valuesvolcall68 = statevol.valuesvolcall.slice(-68)   

            statevol.itemsvolcall135 = statevol.itemsvolcall.slice(-135)
            statevol.valuesvolcall135 = statevol.valuesvolcall.slice(-135)   

            console.log(statevol.itemsvolcall23)
            console.log(statevol.valuesvolcall23)
            
            setHistVolAllStatsGraph()
        },
        error: function(error_data){
            console.log("error")
            console.log(error_data)
        }
    })

    $.ajax({
        method: "GET",
        url: datavolputURL,
        success: function(response){

            for (var i in response){
                var key = Object.keys(response[i])[0]
				var value = Object.values(response[i])[0]
           
				statevol.itemsvolput.push(key)
                statevol.valuesvolput.push(value)}

            statevol.itemsvolput23 = statevol.itemsvolput.slice(-23)
            statevol.valuesvolput23 = statevol.valuesvolput.slice(-23) 

            statevol.itemsvolput68 = statevol.itemsvolput.slice(-68)
            statevol.valuesvolput68 = statevol.valuesvolput.slice(-68)   

            statevol.itemsvolput135 = statevol.itemsvolput.slice(-135)
            statevol.valuesvolput135 = statevol.valuesvolput.slice(-135)   

            console.log(statevol.itemsvolput23)
            console.log(statevol.valuesvolput23)
            
            setHistVolAllStatsGraph()
        },
        error: function(error_data){
            console.log("error")
            console.log(error_data)
        }
    })

    function setHistVolAllStatsGraph(){
        if (histVolAllChart) {
            histVolAllChart.destroy();
        }
        var ctx = document.getElementById("histVolAllChart").getContext('2d');
        
        histVolAllChart = new Chart(ctx, {
        responsive: true,
        type: 'bar',
        data: {
            labels: statevol.itemsvolcall23,
            datasets: [{
                label: 'Calls',
                data: statevol.valuesvolcall23,
                borderColor: 'rgba(63, 243, 27, 0.5)',
                backgroundColor: 'rgba(63, 243, 27, 0.5)',

            },{
            label: "Puts",
            data: statevol.valuesvolput23,
            borderColor: 'rgba(243, 45, 27, 0.5)',
            backgroundColor: 'rgba(243, 45, 27, 0.5)',

            },
            ]
        },
        options: {
            scales: {
                yAxes: [{
                    stacked: true,
                }
                ],
                xAxes: [{
                    stacked: true,
                    ticks: {
                        autoSkip: true,
                        maxTicksLimit: 20,
                        maxRotation: 45,
                        minRotation: 45
                    }
                }]
            },
        }
        })
    }

    function updatehistVolAllChart_1M(){
        histVolAllChart.data.labels = statevol.itemsvolcall23;
        histVolAllChart.data.datasets[0].data = statevol.valuesvolcall23;
        histVolAllChart.data.datasets[1].data = statevol.valuesvolput23;
        histVolAllChart.update();
    };

    function updatehistVolAllChart_3M(){
        histVolAllChart.data.labels = statevol.itemsvolcall68;
        histVolAllChart.data.datasets[0].data = statevol.valuesvolcall68;
        histVolAllChart.data.datasets[1].data = statevol.valuesvolput68;
        histVolAllChart.update();
    };

    function updatehistVolAllChart_6M(){
        histVolAllChart.data.labels = statevol.itemsvolcall135;
        histVolAllChart.data.datasets[0].data = statevol.valuesvolcall135;
        histVolAllChart.data.datasets[1].data = statevol.valuesvolput135;
        histVolAllChart.update();
    };

    function updatehistVolAllChart_ALL(){
        histVolAllChart.data.labels = statevol.itemsvolcall;
        histVolAllChart.data.datasets[0].data = statevol.valuesvolcall;
        histVolAllChart.data.datasets[1].data = statevol.valuesvolput;
        histVolAllChart.update();
    };

</script>

<script>
    
    var histOIAllChart;

    var dataopenintcallURL = `{% url 'option_pricing:optionhistopenintallcallstats'%}`
    var dataopenintputURL = `{% url 'option_pricing:optionhistopenintallputstats'%}`

    var stateopenint ={	
		'itemsopenintcall':[],
		'valuesopenintcall':[],
        'itemsopenintput':[],
        'valuesopenintput':[],
        'itemsopenintcall23':[],
		'valuesopenintcall23':[],
        'itemsopenintput23':[],
		'valuesopenintput23':[],
        'itemsopenintcall68':[],
		'valuesopenintcall68':[],
        'itemsopenintput68':[],
		'valuesopenintput68':[],    
        'itemsopenintcall135':[],
		'valuesopenintcall135':[], 
        'itemsopenintput135':[],
		'valuesopenintput135':[], 
        'itemsopenintcall252':[],
        'valuesopenintcall252':[],                 
        'itemsopenintput252':[],
        'valuesopenintput252':[],  
	}

    $.ajax({
        method: "GET",
        url: dataopenintcallURL,
        success: function(response){

            for (var i in response){
                var key = Object.keys(response[i])[0]
				var value = Object.values(response[i])[0]
           
				stateopenint.itemsopenintcall.push(key)
                stateopenint.valuesopenintcall.push(value)}

            stateopenint.itemsopenintcall23 = stateopenint.itemsopenintcall.slice(-23)
            stateopenint.valuesopenintcall23 = stateopenint.valuesopenintcall.slice(-23)

            stateopenint.itemsopenintcall68 = stateopenint.itemsopenintcall.slice(-68)
            stateopenint.valuesopenintcall68 = stateopenint.valuesopenintcall.slice(-68)   

            stateopenint.itemsopenintcall135 = stateopenint.itemsopenintcall.slice(-135)
            stateopenint.valuesopenintcall135 = stateopenint.valuesopenintcall.slice(-135)   

            stateopenint.itemsopenintcall252 = stateopenint.itemsopenintcall.slice(-252)
            stateopenint.valuesopenintcall252 = stateopenint.valuesopenintcall.slice(-252)   

            console.log(stateopenint.itemsopenintcall23)
            console.log(stateopenint.valuesopenintcall23)
            
            setHistOpenIntAllStatsGraph()
        },
        error: function(error_data){
            console.log("error")
            console.log(error_data)
        }
    })

    $.ajax({
        method: "GET",
        url: dataopenintputURL,
        success: function(response){

            for (var i in response){
                var key = Object.keys(response[i])[0]
				var value = Object.values(response[i])[0]
           
				stateopenint.itemsopenintput.push(key)
                stateopenint.valuesopenintput.push(value)}

            stateopenint.itemsopenintput23 = stateopenint.itemsopenintput.slice(-23)
            stateopenint.valuesopenintput23 = stateopenint.valuesopenintput.slice(-23) 

            stateopenint.itemsopenintput68 = stateopenint.itemsopenintput.slice(-68)
            stateopenint.valuesopenintput68 = stateopenint.valuesopenintput.slice(-68)   

            stateopenint.itemsopenintput135 = stateopenint.itemsopenintput.slice(-135)
            stateopenint.valuesopenintput135 = stateopenint.valuesopenintput.slice(-135)   

            console.log(stateopenint.itemsopenintput23)
            console.log(stateopenint.valuesopenintput23)
            
            setHistOpenIntAllStatsGraph()
        },
        error: function(error_data){
            console.log("error")
            console.log(error_data)
        }
    })


    function setHistOpenIntAllStatsGraph(){
        if (histOIAllChart) {
            histOIAllChart.destroy();
        }
        var ctx = document.getElementById("histOIAllChart").getContext('2d');
 
        //console.log(ctx)
        histOIAllChart = new Chart(ctx, {
        responsive: true,
        type: 'bar',
        data: {
            labels: stateopenint.itemsopenintcall23,
            datasets: [{
                label: 'Calls',
                data: stateopenint.valuesopenintcall23,
                borderColor: 'rgba(63, 243, 27, 0.5)',
                backgroundColor: 'rgba(63, 243, 27, 0.5)',

            },{
            label: "Puts",
            data: stateopenint.valuesopenintput23,
            borderColor: 'rgba(243, 45, 27, 0.5)',
            backgroundColor: 'rgba(243, 45, 27, 0.5)',

            },
            ]
        },
        options: {
            scales: {
                yAxes: [{
                    stacked: true,
                }
                ],
                xAxes: [{
                    stacked: true,
                    ticks: {
                        autoSkip: true,
                        maxTicksLimit: 20,
                        maxRotation: 45,
                        minRotation: 45
                    }
                }]
            },
        }
        })
    }
    function updatehistOpenIntAllChart_1M(){
        histOIAllChart.data.labels = stateopenint.itemsopenintcall23;
        histOIAllChart.data.datasets[0].data = stateopenint.valuesopenintcall23;
        histOIAllChart.data.datasets[1].data = stateopenint.valuesopenintput23;
        histOIAllChart.update();
    };

    function updatehistOpenIntAllChart_3M(){
        histOIAllChart.data.labels = stateopenint.itemsopenintcall68;
        histOIAllChart.data.datasets[0].data = stateopenint.valuesopenintcall68;
        histOIAllChart.data.datasets[1].data = stateopenint.valuesopenintput68;
        histOIAllChart.update();
    };

    function updatehistOpenIntAllChart_6M(){
        histOIAllChart.data.labels = stateopenint.itemsopenintcall135;
        histOIAllChart.data.datasets[0].data = stateopenint.valuesopenintcall135;
        histOIAllChart.data.datasets[1].data = stateopenint.valuesopenintput135;
        histOIAllChart.update();
    };

    function updatehistOpenIntAllChart_ALL(){
        histOIAllChart.data.labels = stateopenint.itemsopenintcall;
        histOIAllChart.data.datasets[0].data = stateopenint.valuesopenintcall;
        histOIAllChart.data.datasets[1].data = stateopenint.valuesopenintput;
        histOIAllChart.update();
    };
    
</script>


{% endblock %}